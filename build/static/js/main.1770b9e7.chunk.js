(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(51)},26:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),i=(a(26),a(27),function(e){var t=e.children;return r.a.createElement("div",{className:"MovieTemplate"},r.a.createElement("div",{className:"app-title"},"yts.mx \uc601\ud654 \uc815\ubcf4"),r.a.createElement("div",{className:"content"},t))}),s=a(4),o=a.n(s),m=a(15),u=a(3),d=a(19),v=a(16),p=a(17),g=a(20),E=a(18),h=(a(29),a(2)),k=a.n(h),f=(a(30),function(e){Object(g.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:e.props.moviesFromParent,isClicked:!1,clickedImage:0},e.componentDidUpdate=function(){e.state.movies!==e.props.moviesFromParent&&e.setState({movies:e.props.moviesFromParent}),k()("#movDescription").draggable({axis:"y"}),k()("#coverImgDiv").css("background-image","url("+e.state.movies[e.state.clickedImage].medium_cover_image+")")},e.imgOnClick=function(t){console.log("Clicked!!",t.target.getAttribute("data-key")),e.setState({isClicked:!0,clickedImage:t.target.getAttribute("data-key")})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isClicked,a=e.movies,n=e.clickedImage,c=[];console.log(this.state.movies);for(var l=0;l<this.state.movies.length;l++)c.push(r.a.createElement("img",{key:l,"data-key":l,class:"",style:{width:100/this.state.movies.length+"%"},onClick:this.imgOnClick,src:a[l].medium_cover_image,alt:"yts movie snapshot"}));return r.a.createElement("div",{id:"whole-movie-container"},r.a.createElement("div",{id:"prevImgs",class:"row text-center"},c),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"desc-container"},r.a.createElement("div",{id:"coverImgDiv"}),r.a.createElement("div",{id:"movDescription"},r.a.createElement("p",{id:"releasedYear"},a[n].year," \uac1c\ubd09"),r.a.createElement("div",{class:"row pt-2"},r.a.createElement("h3",null,a[n].title)),r.a.createElement("div",{class:"row"},r.a.createElement("p",null,a[n].genres.join(", "))),r.a.createElement("div",{class:"row mt-4"},r.a.createElement("h4",null,"\uc601\ud654 \uc815\ubcf4")),r.a.createElement("div",{class:"row"},r.a.createElement("p",{class:"col-4 p-0"},a[n].runtime,"\ubd84"),r.a.createElement("p",{class:"col-4"},"\ud3c9\uc810: ",a[n].rating),r.a.createElement("p",{class:"col-4 text-right p-0"},"\uc88b\uc544\uc694: ",a[n].likes)),r.a.createElement("div",{class:"row mt-4 mb-4"},r.a.createElement("h4",null,"\uc904\uac70\ub9ac"),r.a.createElement("p",null,a[n].summary))))):null)}}]),a}(r.a.Component)),b=(a(31),a(32)),y=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(u.a)(l,2),s=i[0],v=i[1],p=Object(n.useState)(!1),g=Object(u.a)(p,2),E=g[0],h=g[1],k=function(){var e=Object(m.a)(o.a.mark(function e(){var t,n,r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,console.log("Requested to the server!"),e.next=6,b.get("http://localhost:4000/movies?sort_by=like_count&order_by=desc&limit=5");case 6:t=e.sent,n=t.data.data.movies,r=0;case 9:if(!(r<t.data.data.movies.length)){e.next=17;break}return e.next=12,b.get("http://localhost:4000/likes?movie_id="+n[r].id);case 12:l=e.sent,n[r].likes=l.data.data.movie.like_count;case 14:r++,e.next=9;break;case 17:c(t.data.data.movies),console.log(a),h(!1),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(2),console.log(e.t0);case 25:case"end":return e.stop()}},e,null,[[2,22]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{className:"SearchBar",onSubmit:function(e){e.preventDefault(),v(!0),h(!0),k()}},r.a.createElement("input",{placeholder:"\uc785\ub825\ud3ec\ub9f7: <\uc815\ub82c\uae30\uc900> <\uac80\uc0c9\uac1c\uc218> \uc608: like 5"}),r.a.createElement("button",{type:"submit"},r.a.createElement(d.a,null))),s?E?r.a.createElement("div",null,r.a.createElement("div",{class:"spinner-grow text-primary loader",role:"status"})):r.a.createElement(f,{moviesFromParent:a}):null)},w=function(){return r.a.createElement(i,null,r.a.createElement(y,null))},O=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),O()}},[[21,1,2]]]);
//# sourceMappingURL=main.1770b9e7.chunk.js.map